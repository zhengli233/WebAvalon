# WebAvalon

|页面|前端|后端|
|---|---|---|
|host|规定游戏人数|记录游戏人数，根据人数随机给不同玩家身份|
||生成所有玩家页面的跳转链接||
|player|显示玩家号码、身份、身份对应的玩家可获得信息（比如对梅林玩家显示所有坏人玩家号码）、游戏当前轮结果和使用说明|对所有人推送当前轮结果，不同玩家身份可获得信息的http请求接口|
||显示游戏各轮的结果|推送前端结果|
||显示领主身份，领主可以决定做任务的玩家，开始是否能做任务的投票，开始做任务的投票|初始领主是随机一个玩家，之后按顺序轮流，当前端请求时，返回领主的玩家序号|
||开始投票是否做任务|开始记录player页面的投票结果|
||投票是否做任务（赞成、反对）|记录投票结果，包括是否过半数和所有人票型，所有人投票完成后推送给所有人|
||如果能做任务，enable做任务投票（成功、失败），好人身份无法投失败|如果能做任务，接收并统计，推送结果|
||好人成功了3轮任务后，刺客身份玩家独有的选择刺杀目标enable，选择刺杀玩家号|向所有人推送刺杀结果|
